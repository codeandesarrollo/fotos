<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title data-i18n="meta_title">Cris Bernal Photography · Bodas y Retratos en Puerto Vallarta</title>

<meta name="description" content="Fotografía de bodas y retratos en Puerto Vallarta, Sayulita y Punta Mita. Estilo documental y artístico. Reserva tu fecha con Cris Bernal." data-i18n-attr="content:meta_desc"/>
<link rel="canonical" href="https://puertovallartaweddingphotos.com/"/>
<meta property="og:title" content="Cris Bernal Photography · Bodas y Retratos" data-i18n-attr="content:meta_og_title" />
<meta property="og:description" content="Fotografía de bodas y retratos en Puerto Vallarta y Bahía de Banderas." data-i18n-attr="content:meta_og_desc" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="es_MX" />
<meta name="color-scheme" content="light"/>

<!-- Preload + @font-face de Brandon Grotesque Light -->
<link rel="preload" as="font"
      href="fonts/HvDTrial_Brandon_Grotesque_light-BF64a625c93e709.otf"
      type="font/otf" crossorigin>

<style>
/* ====== TIPOGRAFÍA GLOBAL ====== */
@font-face{
  font-family: 'BrandonGrotesque';
  src: url('fonts/HvDTrial_Brandon_Grotesque_light-BF64a625c93e709.otf') format('opentype');
  font-weight: 300;            /* Este archivo es Light */
  font-style: normal;
  font-display: swap;
}

:root{
  --bg:#f8faff; --surface:#ffffff; --panel:#ffffffcc; --border:#e2e6ed;
  --shadow: 0 8px 24px rgba(17, 24, 39, .06); --shadow-hover: 0 12px 30px rgba(17, 24, 39, .1);
  --text:#1c202d; --text-dim:#5a6275; --muted:#8b93ad;
  --accent:#1a3249; --accent-light:#2c4d6f; --accent-ink:#ffffff;
  --focus: color-mix(in oklab, var(--accent) 52%, #ffffff);

  --container: 1200px; --gap: clamp(16px, 2.5vw, 32px);
  --radius: 12px; --radius-xl: 20px; --nav-h: 76px;
  --safe-top: env(safe-area-inset-top, 0px); --safe-bottom: env(safe-area-inset-bottom, 0px);
  --blur: blur(12px);

  /* TODA LA WEB EN BRANDON GROTESQUE */
  --font-brand: 'BrandonGrotesque', ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-sans: var(--font-brand);
  --font-display: var(--font-brand);

  --logo-w: 240px; --logo-h: 54px; --logo-scale: 1.35;
}

/* ====== REGLAS BASE ====== */
*, *::before, *::after{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:var(--font-sans);
  font-weight:300;              /* Light por defecto */
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  overflow-x:hidden; line-height:1.5
}
img{ max-width:100%; display:block; height:auto }
a{ color:inherit; text-decoration:none }
:focus-visible{ outline:3px solid var(--focus); outline-offset:3px; border-radius:var(--radius) }

.container{ max-width:var(--container); margin:0 auto; padding:0 clamp(16px, 4vw, 24px) }
.section{ padding: clamp(60px, 10vw, 120px) 0; scroll-margin-top: calc(var(--nav-h) + 24px) }
.section-header{ text-align:center; margin-bottom: clamp(32px, 5vw, 64px) }
.section-title{
  font-family:var(--font-display);
  font-weight:300;              /* mantiene el feel ligero */
  text-transform:uppercase;
  letter-spacing:.04em;
  font-size: clamp(32px, 5vw, 48px);
  margin:0 0 10px; line-height:1.2
}
.section-sub{ color:var(--text-dim); font-size: clamp(16px, 2.6vw, 18px); max-width:760px; margin:0 auto; line-height:1.6 }

/* ===== NAVBAR ===== */
.navbar{
  position:sticky; top:0; z-index:50; height: calc(var(--nav-h) + var(--safe-top));
  display:flex; align-items:center; background:#fff; border-bottom:1px solid var(--border);
  transition: height .22s, border-color .22s;
}
.navbar.nav-compact{ height: calc(62px + var(--safe-top)); --logo-scale: 1.18; }

.nav-wrap{ display:flex; align-items:center; gap:20px; justify-content:space-between; height:100%; min-width:0 }
.brand{ display:flex; align-items:center; gap:14px; min-width:0; flex:0 0 auto; margin-right: calc((var(--logo-scale) - 1) * var(--logo-w) + 24px) }
.brand-logo{ height: var(--logo-h); width:auto }
.brand-logo--big{ transform: scale(var(--logo-scale)); transform-origin: left center }
.brand span{
  font-family:var(--font-display);
  font-weight:300;
  letter-spacing:.12em;
  text-transform:uppercase;
  line-height:1; font-size: clamp(18px, 2.2vw, 22px);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:48vw
}

.sr-only{ position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }

/* Links desktop */
.nav-links{ display:flex; align-items:center; gap:8px }
.nav-links a{
  --pad-x:14px;
  font-family:var(--font-display);
  text-transform:uppercase; letter-spacing:.08em;
  font-weight:300; font-size:12.5px; color:var(--text-dim);
  padding:10px var(--pad-x);
  transition: color .2s, text-underline-offset .2s;
}
.nav-links a:hover{ color:var(--text); text-decoration:underline; text-underline-offset:6px }
.nav-links a.active{ color:var(--text) }

/* Acciones */
.nav-actions{ display:flex; align-items:center; gap:12px; flex:0 0 auto }

/* ===========================
   Buttons v3 · Halo Outline
   =========================== */
.btn{
  position: relative; display: inline-flex; align-items: center; justify-content: center; gap: .6em;
  padding: 11px 18px; min-height: 42px; border-radius: 999px;
  font-family:var(--font-sans); font-weight:300; letter-spacing:.02em; font-size: 15px; line-height: 1;
  color: var(--accent); border: 1.5px solid transparent;
  background: linear-gradient(#fff, #fff) padding-box,
             linear-gradient(135deg, color-mix(in oklab, var(--accent) 70%, #fff 30%), var(--accent-light)) border-box;
  box-shadow: 0 1px 0 rgba(255,255,255,.45) inset, 0 8px 22px rgba(17,24,39,.06);
  transition: transform .06s ease, box-shadow .18s ease, background .18s ease, color .18s ease, opacity .2s ease;
}
.btn::before{ content:""; position:absolute; inset:0; border-radius:inherit;
  background: linear-gradient(to bottom, rgba(255,255,255,.22), rgba(255,255,255,0) 42%); pointer-events:none; }
.btn:hover{ transform: translateY(-1px); color: color-mix(in oklab, var(--accent) 78%, #000 22%);
  box-shadow: 0 1px 0 rgba(255,255,255,.5) inset, 0 12px 28px rgba(17,24,39,.10);
  background: linear-gradient(color-mix(in oklab, #fff 92%, var(--accent) 8%), color-mix(in oklab, #fff 92%, var(--accent-light) 8%)) padding-box,
              linear-gradient(135deg, color-mix(in oklab, var(--accent) 70%, #fff 30%), var(--accent-light)) border-box; }
.btn:active{ transform: translateY(0); box-shadow: 0 1px 0 rgba(255,255,255,.45) inset, 0 8px 18px rgba(17,24,39,.08); }
.btn:focus-visible{ outline: none; box-shadow: 0 0 0 3px var(--focus), 0 10px 24px rgba(17,24,39,.10); }
.btn-small{ padding: 9px 14px; min-height: 36px; font-size: 13.5px; }
.btn-lg{ padding: 15px 24px; min-height: 50px; font-size: 16px; }
.btn--solid{ color: var(--accent-ink); background: linear-gradient(135deg, var(--accent), var(--accent-light));
  border: 1px solid color-mix(in oklab, var(--accent) 70%, #000);
  box-shadow: 0 1px 0 rgba(255,255,255,.35) inset, 0 10px 26px rgba(26,50,73,.22); }
.btn--solid:hover{ transform: translateY(-1px);
  background: linear-gradient(135deg, color-mix(in oklab, var(--accent) 94%, #fff 6%), color-mix(in oklab, var(--accent-light) 98%, #fff 2%)); }
.btn-ghost{ color: var(--text); background: linear-gradient(#fff, #fff); border: 1px solid var(--border); box-shadow: 0 6px 16px rgba(17,24,39,.06); }
.btn-ghost:hover{ background: color-mix(in oklab, #fff 96%, var(--bg) 4%); }
.btn-kraft{ color:#fff; background: linear-gradient(135deg, #6e5a46, #3a342e); border: 1px solid #3a342e; box-shadow: 0 10px 24px rgba(0,0,0,.18); }
.btn-kraft:hover{ background: linear-gradient(135deg, #7b634d, #463f38); }
#ctaTop, #ctaWhats{ color: var(--accent-ink); background: linear-gradient(135deg, var(--accent), var(--accent-light));
  border: 1px solid color-mix(in oklab, var(--accent) 70%, #000);
  box-shadow: 1px 1px 0 rgba(255,255,255,.35) inset, 0 10px 26px rgba(26,50,73,.22); }
#ctaTop:hover, #ctaWhats:hover{
  background: linear-gradient(135deg, color-mix(in oklab, var(--accent) 94%, #fff 6%), color-mix(in oklab, var(--accent-light) 98%, #fff 2%));
}

/* Botones idioma (heredan Brandon) */
.lang-switch{ display:inline-flex; align-items:center; gap:6px; padding:4px; background:var(--bg); border:1px solid var(--border);
  border-radius:999px; box-shadow:0 6px 16px rgba(17,24,39,.06); }
.lang-btn{ appearance:none; border:0; background:transparent; padding:9px 14px; border-radius:999px;
  text-transform:uppercase; letter-spacing:.08em; font-weight:300; font-size:12.5px;
  color:var(--text-dim); line-height:1; cursor:pointer; transition:background .2s,color .2s,transform .08s ease; }
.lang-btn:hover{ background:#fff; color:var(--text) }
.lang-btn:active{ transform:translateY(1px) }
.lang-btn.active{ background:linear-gradient(135deg,var(--accent),var(--accent-light)); color:var(--accent-ink);
  box-shadow:0 6px 14px rgba(26,50,73,.25); }
.lang-btn:focus-visible{ outline:3px solid var(--focus); outline-offset:2px; border-radius:999px; }
.nav-flyout .lang-switch{ width:100%; padding:6px; border-radius:14px; box-shadow:none; }
.nav-flyout .lang-btn{ flex:1; text-align:center; padding:12px 10px; font-size:13px; }

/* Hamburguesa + flyout */
.nav-toggle{ display:none; width:44px; height:44px; border-radius:999px; background:#fff; border:1px solid var(--border);
  align-items:center; justify-content:center; }
.nav-toggle span, .nav-toggle::before, .nav-toggle::after{ content:""; display:block; width:22px; height:2px; background:var(--text); border-radius:2px; transition:.25s }
.nav-toggle::before{ transform: translateY(-7px) } .nav-toggle::after{ transform: translateY(7px) }
.nav-toggle.active span{ transform: scaleX(0) } .nav-toggle.active::before{ transform: translateY(0) rotate(45deg) } .nav-toggle.active::after{ transform: translateY(0) rotate(-45deg) }

.nav-flyout{ position:fixed; left:16px; right:16px; top: calc(var(--nav-h) + var(--safe-top) + 12px); z-index:40;
  display:block; padding:12px; border-radius:16px; background:#fff; border:1px solid var(--border);
  transform: translateY(-10px); opacity:0; pointer-events:none; transition:.25s ease; }
.nav-flyout.show{ transform: translateY(0); opacity:1; pointer-events:auto }
.nav-flyout a{ display:block; padding:14px 16px; border-radius:10px; color:var(--text-dim); font-size:13px; text-transform:uppercase; letter-spacing:.08em; font-weight:300; transition: background .2s, color .2s }
.nav-flyout a + a{ margin-top:6px }
.nav-flyout a:hover{ background:var(--bg); color:var(--text) }
.menu-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.22); z-index:39; opacity:0; pointer-events:none; transition:opacity .2s ease; }
.menu-backdrop.show{ opacity:1; pointer-events:auto }

/* ===== HERO ===== */
.hero{ position:relative; background:var(--bg); padding: clamp(20px, 4vw, 40px) 0 0 }
.hero-inner{ position:relative }
.hero-tagline{
  position:absolute; left:clamp(20px, 4vw, 40px); bottom:clamp(20px, 4vw, 40px);
  background: var(--panel); backdrop-filter: var(--blur); border:1px solid var(--border);
  padding:18px 24px; border-radius:var(--radius-xl); max-width:min(680px, 86vw); box-shadow:var(--shadow);
}
.hero-tagline h1{
  margin:0 0 8px; font-size: clamp(24px, 6vw, 36px);
  font-family:var(--font-display); font-weight:300; letter-spacing:.02em; line-height:1.2
}
.hero-tagline p{ margin:0; color:var(--text-dim); font-size: clamp(15px, 3.8vw, 17.5px); line-height:1.6 }

/* ===== SLIDER ===== */
.slider-container{ position:relative; width:100%; height:min(78vh, 720px); border-radius:var(--radius-xl); overflow:hidden;
  box-shadow:var(--shadow); background:#0b1220; border:1px solid var(--border); }
.slider-container .slide img{ transform:none !important; animation:none !important }
.slider-wrapper{ display:flex; height:100%; transition: transform .7s cubic-bezier(.22,.61,.36,1) }
.slide{ position:relative; flex:0 0 100% }
.slide img{ width:100%; height:100%; object-fit:cover; object-position:50% 50%; transform:scale(1.03); filter:contrast(1.05) saturate(1.02); animation: kenburns 16s ease-in-out infinite alternate }
@keyframes kenburns{ 0%{ transform:scale(1.05) } 100%{ transform:scale(1.12) translateY(-1.5%) } }
.slide .caption{
  position:absolute; left: clamp(18px, 4vw, 40px); bottom: clamp(18px, 3.6vw, 36px);
  z-index:3; background: color-mix(in oklab, #0b1220 58%, #ffffff00);
  color:#fff; border:1px solid #ffffff2a; border-radius:14px;
  padding:12px 14px; font-weight:300; letter-spacing:.2px; backdrop-filter:blur(8px);
  box-shadow:0 8px 26px rgba(0,0,0,.28); max-width:min(70ch, 86vw); font-size: clamp(14px, 2.6vw, 16px);
}
.slider-btn{ position:absolute; top:50%; transform:translateY(-50%); backdrop-filter: blur(8px);
  background:#ffffffd9; border:1px solid var(--border); color:var(--text);
  border-radius:14px; width:48px; height:48px; cursor:pointer; font-size:26px; line-height:48px; text-align:center; font-weight:800; z-index:4;
  box-shadow:0 12px 28px rgba(0,0,0,.18); transition: transform .12s, background .2s, box-shadow .2s, opacity .2s; }
.slider-btn:hover{ background:#fff; transform:translateY(-50%) scale(1.04); box-shadow:0 16px 34px rgba(0,0,0,.22) }
.slider-btn.prev{ left:16px } .slider-btn.next{ right:16px }

.slider-dots{ position:absolute; bottom:18px; left:50%; transform:translateX(-50%); display:flex; gap:10px; z-index:4; padding:6px 10px; border-radius:999px;
  background:#ffffffbb; border:1px solid var(--border); box-shadow:var(--shadow); }
.dot{ appearance:none; border:none; width:10px; height:10px; border-radius:50%; background:#c9d1e0; cursor:pointer; transition: transform .2s, background .2s, box-shadow .2s }
.dot:hover{ transform:scale(1.15); background:#9fb0cb }
.dot.active{ background:#1a3249; transform:scale(1.25) }

/* ===== ABOUT / CONTACT ===== */
.about, .contact{
  display:grid; grid-template-columns: 1.1fr .9fr; gap:var(--gap); align-items:center;
  background:var(--surface); border:1px solid var(--border); border-radius:var(--radius-xl);
  padding: clamp(24px, 4vw, 40px); box-shadow:var(--shadow);
}
.about p, .contact p{ color:var(--text-dim); line-height:1.8; font-size:clamp(16px, 2.6vw, 18px) }
.chips{ display:flex; flex-wrap:wrap; gap:10px; margin-top:16px }
.chip{ border:1px solid var(--border); border-radius:999px; padding:8px 16px; font-size:clamp(13px, 2.4vw, .95rem); background:var(--bg); color:var(--text-dim); box-shadow:0 1px 3px rgba(0,0,0,.04); font-weight:300 }

/* CONTACT – detalles visuales */
.contact{ position:relative; overflow:hidden }
.contact::after{ content:""; position:absolute; inset:-1px; border-radius: inherit; pointer-events:none;
  background: radial-gradient(800px 200px at 0% 0%, rgba(44,77,111,.06), transparent 60%),
              radial-gradient(800px 200px at 100% 100%, rgba(26,50,73,.06), transparent 60%); }

.contact-channels{ list-style:none; padding:0; margin:0 0 16px; display:grid; grid-template-columns: 1fr; gap:10px }
.channel{ display:flex; align-items:center; gap:12px; padding:12px 14px; border-radius:14px; text-decoration:none;
  border:1px solid transparent; background: linear-gradient(#fff,#fff) padding-box,
  linear-gradient(135deg, color-mix(in oklab, var(--accent) 70%, #fff 30%), var(--accent-light)) border-box;
  box-shadow: 0 1px 0 rgba(255,255,255,.45) inset, 0 8px 18px rgba(17,24,39,.06);
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease; }
.channel:hover{ transform: translateY(-1px); box-shadow: 0 1px 0 rgba(255,255,255,.5) inset, 0 12px 26px rgba(17,24,39,.10) }

.ch-icon{ flex:0 0 auto; width:40px; height:40px; border-radius:999px; display:grid; place-items:center; color:#fff; }
.ch-wa{ background:#25D366 }
.ch-ig{ background: radial-gradient(120% 120% at 30% 110%, #feda75 0%, #fa7e1e 25%, #d62976 50%, #962fbf 75%, #4f5bd5 100%); }
.ch-fb{ background:#1877F2 }

.ch-text{ display:flex; flex-direction:column; line-height:1.25 }
.ch-text strong{ font-size:1rem; color:var(--text); font-weight:300 }
.ch-text small{ color:var(--text-dim) }

.contact-cta{ display:flex; flex-direction:column; align-items:flex-start; gap:12px }
.cta-help{ margin:0; font-size:.95rem; color:var(--text-dim) }

/* Mini burbujas */
.contact-mini{ display:flex; gap:10px; align-items:center; margin-top:4px }
.mini-bubble{ width:42px; height:42px; border-radius:999px; display:grid; place-items:center; color:#fff;
  border:1px solid rgba(0,0,0,.15); box-shadow: 0 8px 16px rgba(0,0,0,.12), 0 1px 0 rgba(255,255,255,.35) inset;
  transition: transform .1s ease, box-shadow .2s ease; }
.mini-bubble:hover{ transform: translateY(-1px); box-shadow: 0 12px 22px rgba(0,0,0,.16), 0 1px 0 rgba(255,255,255,.35) inset }
.mini-wa{ background:#25D366 } .mini-ig{ background: radial-gradient(120% 120% at 30% 110%, #feda75 0%, #fa7e1e 25%, #d62976 50%, #962fbf 75%, #4f5bd5 100%) } .mini-fb{ background:#1877F2 }

/* ===== RECENT ===== */
.albums-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:var(--gap) }
.album-card{ background:var(--surface); border:1px solid var(--border); border-radius:var(--radius-xl); overflow:hidden; box-shadow:var(--shadow); display:grid; grid-template-rows:auto 1fr; transition: transform .2s ease, box-shadow .2s ease }
.album-card:hover{ transform: translateY(-4px); box-shadow: var(--shadow-hover) }
.album-cover{ aspect-ratio:16/10; overflow:hidden; background:#eef2f8 }
.album-cover img{ width:100%; height:100%; object-fit:cover; transform:scale(1.02); transition:transform .5s, filter .4s }

/* ===== MODAL GALERÍA (estructura base) ===== */
.gallery-modal{ position:fixed; inset:0; z-index:80; display:flex; flex-direction:column; padding: clamp(16px, 3vw, 24px) }
.gallery-modal[hidden]{ display:none }
.gal-header{ display:flex; align-items:center; gap:16px; justify-content:space-between; border-radius:var(--radius-xl); padding:12px 20px; box-shadow:var(--shadow) }
.gal-header h3{ margin:0; font-size:clamp(1rem, 4vw, 1.2rem); font-weight:300 }
.gal-meta{ color:var(--text-dim); font-size:1rem }

/* ← AQUI: fotos MÁS GRANDES */
.gal-grid{
  margin-top:clamp(12px, 2vw, 20px);
  flex:1; overflow:auto; padding:8px;
  column-width: clamp(320px, 36vw, 520px);
  column-gap: clamp(12px, 2.2vw, 22px);
}
.gal-actions{ display:flex; justify-content:center; margin-top:clamp(12px, 2vw, 20px) }

/* ===== Lightbox ===== */
#lightbox{ position:fixed; inset:0; background:rgba(5,7,15,.88); display:none; align-items:center; justify-content:center; padding:clamp(16px, 3vw, 24px); z-index:90 }
#lbClose{ position:absolute; top:clamp(16px, 3vw, 24px); right:clamp(16px, 3vw, 24px); background:#ffffff; border:1px solid #0f1220; border-radius:10px; padding:8px 10px; font-weight:800; cursor:pointer }
#lbImg{ max-width:min(96vw, 1400px); max-height:86vh; border-radius:var(--radius) }
#lbCap{ color:#e9eefc; margin-top:14px; text-align:center; font-size:1rem }
.lb-nav{ position:absolute; top:50%; transform: translateY(-50%); width:46px; height:46px; border-radius:10px; background:#ffffff; border:1px solid #0f1220; color:#0f1220; font-weight:800; line-height:46px; text-align:center; cursor:pointer; user-select:none; }
.lb-prev{ left:18px } .lb-next{ right:18px }

/* Footer */
footer{ padding: clamp(32px, 5vw, 60px) 0; border-top:1px solid var(--border); color:var(--muted); text-align:center; font-size:0.95rem }

/* FULL-BLEED */
.fullbleed{ width:100vw; position:relative; left:50%; right:50%; margin-left:-50vw; margin-right:-50vw }
.slider-container.fullbleed{ border-radius:0; border:none; box-shadow:none; height: clamp(480px, 82vh, 980px); background:#000 }

/* ABOUT · formal */
.about-rustic{
  display:grid; grid-template-columns: .95fr 1.05fr; gap: var(--gap); align-items:center;
  background: var(--surface); border:1px solid var(--border); border-radius:18px; box-shadow: var(--shadow);
  padding: clamp(22px, 4vw, 40px);
}
.figure-polaroid{ background:#fff; border:1px solid var(--border); padding:12px; border-radius:12px; box-shadow: var(--shadow); max-width: 560px; margin:0 auto; }
.figure-polaroid img{ width:100%; height:auto; display:block; border-radius:10px }
.figure-polaroid figcaption{ text-align:center; color:#2b2b2b; font-size:.95rem; margin-top:10px; letter-spacing:.02em; font-family: var(--font-display) }
.about-body h3{ font-family: var(--font-display); font-weight:300; letter-spacing:.02em; margin:0 0 8px; font-size: clamp(22px, 3.6vw, 26px) }
.about-body p{ margin:0 0 12px; color:#var(--text-dim); line-height:1.8 }

/* Rústico galería + reseñas (fondo/estética general) */
.gallery-modal{
  background:
    radial-gradient(1100px 500px at 50% -10%, rgba(0,0,0,.12), transparent 60%),
    radial-gradient(1100px 500px at 50% 110%, rgba(0,0,0,.12), transparent 60%),
    linear-gradient(180deg, #f7f3ea 0%, #f3efe6 100%);
  color:#2b2b2b;
}
.gal-header{ background:#fff9f0; border:1px solid #e8e1d6; box-shadow: 0 10px 30px rgba(17,24,39,.06), 0 2px 6px rgba(17,24,39,.04) inset; }

/* ====== GALERÍA SIN MARCO ====== */
.photo-card{
  display:block; position:relative; break-inside: avoid;
  margin:0 0 clamp(10px, 2vw, 18px);
  padding:0; background:transparent; border:none; border-radius:0;
  box-shadow:none; transform:none;
  transition: transform .18s ease, box-shadow .18s ease, opacity .18s ease;
}
.photo-card::before{ display:none; }
.photo-card .ph-img{
  width:100%; height:auto; display:block;
  border-radius:12px;           /* Ajusta a 0 si prefieres sin redondeo */
  background:#eef2f8;
  filter:none;
  transition: transform .2s ease, filter .2s ease;
}
.photo-card.loading .ph-img{ filter: blur(8px) saturate(1.05) }
.photo-card:hover .ph-img{ transform: scale(1.01) }
.photo-card .ph-cap{
  margin-top:8px; text-align:center; color:#6b6256;
  font-size:.95rem; letter-spacing:.02em; font-family: var(--font-display);
}

/* ===== Reseñas (se mantiene igual, con marco) ===== */
.reviews-panel{
  background:
    radial-gradient(1100px 500px at 50% -10%, rgba(0,0,0,.08), transparent 60%),
    radial-gradient(1100px 500px at 50% 110%, rgba(0,0,0,.08), transparent 60%),
    linear-gradient(180deg, #f7f3ea 0%, #f3efe6 100%);
  border:1px solid #e8e1d6; border-radius:18px; box-shadow: var(--shadow); padding: clamp(18px, 3.6vw, 28px);
}
.reviews-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: clamp(12px, 2.6vw, 22px); }
.review-card{
  position:relative; background:#fff; border:1px solid #e6e1d9; border-radius:14px; padding: 18px 16px 16px; color:#2b2b2b;
  box-shadow: 0 12px 26px rgba(0,0,0,.12), 0 2px 0 rgba(0,0,0,.04) inset; transform: rotate(var(--rot, 0deg));
  transition: transform .22s ease, box-shadow .22s ease; will-change: transform;
}
.review-card:hover{ transform: rotate(var(--rot,0deg)) translateY(-3px) scale(1.01); box-shadow: 0 18px 36px rgba(0,0,0,.16), 0 2px 0 rgba(0,0,0,.04) inset }
.review-card::before{
  content:""; position:absolute; top:10px; left:24%; width:82px; height:20px; border-radius:3px; background: linear-gradient(#f3e7c9, #e8dab3);
  border:1px solid #e5d7a8; box-shadow: 0 2px 8px rgba(0,0,0,.10) inset, 0 4px 10px rgba(0,0,0,.08); opacity:.95; transform: rotate(calc(var(--rot,0deg) * -0.6)); pointer-events:none;
}
.review-card.tape-2::before{ left:auto; right:22%; transform: rotate(calc(var(--rot,0deg) * 0.45)); width:72px }
.review-card.tape-3::before{ left:16%; transform: rotate(calc(var(--rot,0deg) * -0.2)); width:60px }
.review-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:6px }
.review-stars{ font-size: 1.05rem; letter-spacing:.12rem; color:#d4a373; text-shadow: 0 1px 0 #fff }
.review-quoteMark{ font-family: var(--font-display); font-size: clamp(28px, 4.8vw, 40px); line-height:1; color:#e7dcc7; user-select:none; transform: translateY(2px) rotate(-6deg) }
.review-text{ margin:6px 0 10px; color:#6b6256; line-height:1.85; font-size: .98rem }
.review-author{ text-align:right; margin-top:6px; color:#6b6256; font-family: var(--font-display); font-size: clamp(1rem, 3.6vw, 1.15rem) }

/* Burbujas sociales */
.social-bubbles{ position: fixed; right: clamp(12px, 2.4vw, 20px); bottom: calc(12px + var(--safe-bottom)); display: flex; flex-direction: column; gap: 12px; z-index: 70; }
.social-bubbles .bubble{ display: inline-flex; align-items: center; justify-content: center; width: 56px; height: 56px; border-radius: 999px; line-height: 0; color: #fff; background: #111; border: 1px solid rgba(0,0,0,.2); box-shadow: 0 12px 24px rgba(0,0,0,.18), 0 1px 0 rgba(255,255,255,.35) inset; text-decoration: none; transition: transform .12s ease, box-shadow .2s ease, opacity .2s; }
.social-bubbles .bubble:hover{ transform: translateY(-2px) scale(1.03); box-shadow: 0 16px 30px rgba(0,0,0,.22), 0 1px 0 rgba(255,255,255,.35) inset; }
.social-bubbles .bubble:active{ transform: translateY(0) scale(.98) }
.social-bubbles .bubble svg{ width: 26px; height: 26px; display: block; flex: 0 0 auto }
.bubble--wa{ background:#25D366 }
.bubble--ig{ background: radial-gradient(120% 120% at 30% 110%, #feda75 0%, #fa7e1e 25%, #d62976 50%, #962fbf 75%, #4f5bd5 100%); }
.bubble--fb{ background:#1877F2 }

/* Dock móvil */
@media (max-width:560px){
  .social-bubbles{ left: clamp(12px, 3vw, 20px); right: clamp(12px, 3vw, 20px); bottom: calc(12px + var(--safe-bottom)); flex-direction: row; justify-content: center; gap: 10px; }
  .social-bubbles::before{ content:""; position:absolute; inset:-8px -10px; border-radius:999px; background: rgba(255,255,255,.9); box-shadow: 0 10px 22px rgba(17,24,39,.16), 0 1px 0 rgba(255,255,255,.8) inset; backdrop-filter: blur(8px); z-index:-1; }
  .social-bubbles .bubble{ width:52px; height:52px }
  .social-bubbles .bubble svg{ width:24px; height:24px }

  /* Galería: 1 foto por fila (muy grande) en móvil */
  .gallery-modal .gal-grid{
    column-width: 92vw;
    column-gap: 12px;
  }
}
@media (max-width:380px){
  .social-bubbles .bubble{ width:48px; height:48px }
  .social-bubbles .bubble svg{ width:22px; height:22px }
}
@media (max-width:1200px){ .container{ padding:0 clamp(16px, 3vw, 24px) } }
@media (max-width:992px){
  .navbar{ --logo-scale: 1.06; }
  .nav-links{ display:none }
  .nav-toggle{ display:flex }
  .nav-actions{ gap:10px }
  .about, .contact, .about-rustic{ grid-template-columns: 1fr }
  .contact-channels{ grid-template-columns: 1fr 1fr }
  .slider-container{ height: clamp(420px, 64vh, 620px) }
}
@media (max-width:768px){
  .brand{ margin-right:14px }
  .brand-logo{ height:44px; max-width: clamp(140px, 40vw, 220px) }
  .hero-tagline{ padding:16px 20px }
  .slider-btn{ width:44px; height:44px; font-size:22px; border-radius:12px }
  .contact-channels{ grid-template-columns: 1fr }
}
@media (max-width:560px){
  .brand{ margin-right:10px; max-width:55vw }
  .brand-logo{ height:38px; max-width:55vw }
  .lang-switch{ display:none }
  .btn{ padding:10px 14px; min-height:38px; font-size:13.5px }
  .container{ padding-left:16px; padding-right:16px }
  .slider-container{ height: clamp(360px, 58vh, 520px) }
  .slider-dots{ bottom:12px; gap:8px; padding:5px 8px }
}
@media (max-width:420px){
  .brand{ max-width:48vw }
  .brand-logo{ height:32px; max-width:48vw }
  .nav-toggle{ width:38px; height:38px }
}
@media (prefers-reduced-motion: reduce){
  .social-bubbles .bubble{ transition:none }
  .social-bubbles .bubble:hover{ transform:none }
}

</style>
</head>
<body>

<header class="navbar" aria-label="Navigation bar">
  <div class="container nav-wrap">
    <a class="brand" href="#home" aria-label="Inicio / Home">
      <img class="brand-logo brand-logo--big" src="boda/cris.png" alt="Cris Bernal Photography" width="200" height="48" decoding="async" fetchpriority="high"/>
      <span class="sr-only">Cris Bernal Photography</span>
    </a>

    <nav class="nav-links" aria-label="Main links">
      <a href="#home" data-i18n="nav_home" class="active">Inicio</a>
      <a href="#acerca" data-i18n="nav_about">Acerca</a>
      <a href="#recent" data-i18n="nav_recent">Reciente</a>
      <a href="#contacto" data-i18n="nav_contact">Contacto</a>
      <a href="#reseñas" data-i18n="nav_reviews">Reseñas</a>
    </nav>

    <div class="nav-actions">
      <button class="btn" id="ctaTop" data-i18n="nav_book">Reservar</button>
      <div class="lang-switch" role="group" aria-label="Language switch">
        <button class="lang-btn active" id="btnES">ES</button>
        <button class="lang-btn" id="btnEN">EN</button>
      </div>
      <button class="nav-toggle" id="navToggle" aria-label="Abrir menú" aria-expanded="false" data-i18n-attr="aria-label:aria_menu_open"><span></span></button>
    </div>
  </div>
</header>

<!-- Flyout móvil -->
<nav class="nav-flyout" id="navFlyout" aria-label="Mobile menu">
  <a href="#home" data-i18n="nav_home">Inicio</a>
  <a href="#acerca" data-i18n="nav_about">Acerca</a>
  <a href="#recent" data-i18n="nav_recent">Reciente</a>
  <a href="#contacto" data-i18n="nav_contact">Contacto</a>
  <a href="#reseñas" data-i18n="nav_reviews">Reseñas</a>
  <div class="lang-switch" style="margin-top:6px; display:flex; gap:6px">
    <button class="lang-btn" id="flyES">ES</button>
    <button class="lang-btn" id="flyEN">EN</button>
  </div>
</nav>
<div class="menu-backdrop" id="menuBackdrop" hidden></div>

<section class="hero section" id="home" aria-label="Horizontal gallery">
  <div class="container hero-inner">

    <div class="slider-container fullbleed" tabindex="0" aria-label="Carrusel de imágenes">
      <div class="slider-wrapper"></div>
      <div class="slider-shade" aria-hidden="true"></div>
      <button class="slider-btn prev" aria-label="Anterior">&#x2039;</button>
      <button class="slider-btn next" aria-label="Siguiente">&#x203A;</button>
      <div class="slider-dots" role="tablist" aria-label="Selector de imágenes"></div>
      <div class="slider-progress" aria-hidden="true"><span></span></div>
    </div>

    <div class="hero-tagline">
      <h1 data-i18n="hero_h1">Hola, soy Cris Bernal — Crear genuinas memorias que seran el recuerdo de toda una vida....</h1>
    </div>
  </div>
</section>

<!-- ===== ACERCA ===== -->
<section class="section" id="acerca" aria-label="About Cris">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title" data-i18n="about_title">Acerca de Cris</h2>
      <p class="section-sub" data-i18n="about_sub">Más de 15 años fotografiando historias.</p>
    </div>

    <div class="about-rustic">
      <figure class="figure-polaroid">
        <img src="boda/ella.webp" alt="Cris Bernal en sesión en Puerto Vallarta" loading="lazy" decoding="async">
        <figcaption>Puerto Vallarta · Bahía de Banderas</figcaption>
      </figure>

      <div class="about-body">
        <h3 data-i18n="about_title">Acerca de Cris</h3>

        <p data-i18n="about_p1"></p>
        <p data-i18n="about_p2"></p>
        <p data-i18n="about_p3"></p>
        <p data-i18n="about_p4"></p>
        <p data-i18n="about_p5"></p>
        <p data-i18n="about_p6"></p>

        <div class="chips">
          <span class="chip" data-i18n="chip1">PV · Sayulita · Punta Mita</span>
          <span class="chip" data-i18n="chip2">Documental & Artístico</span>
          <span class="chip" data-i18n="chip3">+15 años</span>
        </div>

        <div style="margin-top:14px">
          <p><strong data-i18n="label_address">Dirección:</strong> <span data-i18n="addr_value">Privada Huatulco 208-24, Fraccionamiento las Palmas.48317,Puerto Vallarta, Jal.</span></p>
          <p><strong data-i18n="label_hours">Atención:</strong> <span data-i18n="hours_value">Lun–Vie, 15:00–20:00 (previa cita)</span></p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section" id="recent" aria-label="Recent work">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title" data-i18n="recent_title">Reciente</h2>
      <p class="section-sub" data-i18n="recent_sub">Álbumes por categoría. Abre uno para ver más.</p>
    </div>

    <div class="albums-grid">
      <article class="album-card" data-album="weddings">
        <div class="album-cover">
          <img loading="lazy" decoding="async"
               src="boda/_MG_2482.webp"
               srcset="boda/_MG_2482.webp, boda/_MG_2482.webp"
               sizes="(max-width:768px) 100vw, (max-width:1200px) 50vw, 400px"
               alt="Weddings cover">
        </div>
        <div class="album-meta">
          <h3 class="album-title" data-i18n="cat_weddings">Bodas (varias parejas)</h3>
          <p class="album-count"><span data-count="weddings">0</span> <span data-i18n="photos_word">fotos</span></p>
          <button class="btn btn-small" data-i18n="open_album">Abrir álbum</button>
        </div>
      </article>

      <article class="album-card" data-album="engagement">
        <div class="album-cover">
          <img loading="lazy" decoding="async"
               src="embarazo/Puerto-Vallarta-Pregnancy-Photos-36.webp"
               srcset="embarazo/Puerto-Vallarta-Pregnancy-Photos-36.webp, embarazo/Puerto-Vallarta-Pregnancy-Photos-36.webp"
               sizes="(max-width:768px) 100vw, (max-width:1200px) 50vw, 400px"
               alt="Engagement cover">
        </div>
        <div class="album-meta">
          <h3 class="album-title" data-i18n="cat_engagement">Engagement</h3>
          <p class="album-count"><span data-count="engagement">0</span> <span data-i18n="photos_word">fotos</span></p>
          <button class="btn btn-small" data-i18n="open_album">Abrir álbum</button>
        </div>
      </article>

      <article class="album-card" data-album="family">
        <div class="album-cover">
          <img loading="lazy" decoding="async"
               src="Familia/Puerto-Vallarta-Family-Photographer-14.webp"
               srcset="Familia/Puerto-Vallarta-Family-Photographer-14.webp, Familia/Puerto-Vallarta-Family-Photographer-14.webp"
               sizes="(max-width:768px) 100vw, (max-width:1200px) 50vw, 400px"
               alt="Family cover">
        </div>
        <div class="album-meta">
          <h3 class="album-title" data-i18n="cat_family">Familia</h3>
          <p class="album-count"><span data-count="family">0</span> <span data-i18n="photos_word">fotos</span></p>
          <button class="btn btn-small" data-i18n="open_album">Abrir álbum</button>
        </div>
      </article>

      <article class="album-card" data-album="Kids">
        <div class="album-cover">
          <img loading="lazy" decoding="async"
               src="Kids/Cris-Bernal-Photography-Kids6.webp"
               srcset="Kids/Cris-Bernal-Photography-Kids6.webp, Kids/Cris-Bernal-Photography-Kids6.webp"
               sizes="(max-width:768px) 100vw, (max-width:1200px) 50vw, 400px"
               alt="Kids cover">
        </div>
        <div class="album-meta">
          <h3 class="album-title" data-i18n="cat_Kids">Niños</h3>
          <p class="album-count"><span data-count="Kids">0</span> <span data-i18n="photos_word">fotos</span></p>
          <button class="btn btn-small" data-i18n="open_album">Abrir álbum</button>
        </div>
      </article>
    </div>
  </div>
</section>

<!-- Modal Galería -->
<div id="galleryModal" class="gallery-modal" role="dialog" aria-modal="true" aria-labelledby="galTitle" hidden>
  <div class="gal-header">
    <h3 id="galTitle">Álbum</h3>
    <div class="gal-meta"><span id="galCount">0</span> <span data-i18n="photos_word">fotos</span></div>
    <button id="galClose" class="btn btn-small" data-i18n="close">Cerrar</button>
  </div>
  <div id="galGrid" class="gal-grid" aria-live="polite"></div>
  <div class="gal-actions">
    <button id="galMore" class="btn btn-kraft" data-i18n="load_more">Ver más</button>
  </div>
</div>

<!-- ===== Reseñas ===== -->
<section class="section" id="reseñas" aria-label="Reviews">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title" data-i18n="reviews_title">Reseñas</h2>
      <p class="section-sub" data-i18n="reviews_sub">Valoración 5.0/5 — 100% de parejas recomiendan a Cris Bernal Photography.</p>
    </div>

    <div class="reviews-panel">
      <div class="reviews-grid">
        <article class="review-card tape-1">
          <div class="review-head">
            <div class="review-stars" aria-label="5 estrellas" title="5/5">★★★★★</div>
            <div class="review-quoteMark" aria-hidden="true">“</div>
          </div>
          <div class="review-text">
            <p data-i18n="rev1">“Excelente servicio y profesionalismo… capturó cada momento con ideas originales y mucha energía.”</p>
          </div>
          <div class="review-author">— <span data-i18n="rev1_by">Christian</span></div>
        </article>

        <article class="review-card tape-2">
          <div class="review-head">
            <div class="review-stars" aria-label="5 estrellas" title="5/5">★★★★★</div>
            <div class="review-quoteMark" aria-hidden="true">“</div>
          </div>
          <div class="review-text">
            <p data-i18n="rev2">“Seria, responsable, puntual y flexible; te hace sentir cómoda. Entrega a tiempo y trabajo magnífico.”</p>
          </div>
          <div class="review-author">— <span data-i18n="rev2_by">Tania</span></div>
        </article>

        <article class="review-card tape-3">
          <div class="review-head">
            <div class="review-stars" aria-label="5 estrellas" title="5/5">★★★★★</div>
            <div class="review-quoteMark" aria-hidden="true">“</div>
          </div>
          <div class="review-text">
            <p data-i18n="rev3">“De las mejores decisiones para nuestra boda. Desde la sesión casual hasta el evento, siempre atenta.”</p>
          </div>
          <div class="review-author">— <span data-i18n="rev3_by">Casandra</span></div>
        </article>
      </div>
    </div>
  </div>
</section>

<!-- ===== CONTACTO ===== -->
<section class="section" id="contacto" aria-label="Contact">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title" data-i18n="contact_title">Contacto</h2>
      <p class="section-sub" data-i18n="contact_sub">Comparte fecha, locación y tipo de sesión; te responderé dentro de horario de atención.</p>
    </div>

    <div class="contact">
      <div>
        <ul class="contact-channels">
          <li>
            <a class="channel" id="waLink1" href="https://wa.me/523221217474" target="_blank" rel="noopener" aria-label="WhatsApp">
              <span class="ch-icon ch-wa" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M20.5 3.5A10 10 0 0 0 4 15.2L3 21l5.9-1.6A10 10 0 1 0 20.5 3.5Zm-5.9 14.1c-2.1 0-4.1-.6-5.8-1.9l-.4-.3-1.8.5.5-1.7-.3-.4a7.4 7.4 0 1 1 7.8 3.8Zm3-4.5c-.2-.1-1.3-.6-1.4-.6s-.3-.1-.5.1-.5.6-.7.7c-.1.1-.3.2-.6.1-.3-.1-1-.4-1.9-1.2-.7-.6-1.2-1.4-1.4-1.6-.1-.3 0-.5.1-.6.1-.1.3-.3.4-.5.2-.2.3-.4.4-.6.1-.2 0-.4 0-.6s-.5-1.2-.7-1.6c-.2-.4-.4-.3-.5-.3h-.4c-.1 0-.4.1-.6.3-.2.2-.8.8-.8 1.9 0 1.1.8 2.2.9 2.4.1.2 1.6 2.5 3.8 3.5 2.3 1 2.3.7 2.7.7.4 0 1.3-.5 1.4-1 .2-.5.2-.9.1-1 0-.2-.1-.2-.3-.3Z"/></svg>
              </span>
              <span class="ch-text">
                <strong data-i18n="label_whatsapp">WhatsApp</strong>
                <small>+52 322 121 7474</small>
              </span>
            </a>
          </li>
          <li>
            <a class="channel" href="https://www.instagram.com/crisbernalphoto/" target="_blank" rel="noopener" aria-label="Instagram">
              <span class="ch-icon ch-ig" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 0 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5a5.5 5.5 0 1 1 0 11.001A5.5 5.5 0 0 1 12 7.5zm0 2a3.5 3.5 0 1 0 0 7.001 3.5 3.5 0 0 0 0-7zM18.5 6a1 1 0 1 1 0 2.001 1 1 0 0 1 0-2z"/></svg>
              </span>
              <span class="ch-text">
                <strong data-i18n="label_instagram">Instagram</strong>
                <small>@crisbernalphoto</small>
              </span>
            </a>
          </li>
          <li>
            <a class="channel" href="https://www.facebook.com/CrisBernalPhotography/" target="_blank" rel="noopener" aria-label="Facebook">
              <span class="ch-icon ch-fb" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M13.5 22v-7h2.3l.4-3h-2.7V9.6c0-.9.3-1.5 1.7-1.5H16V5.4c-.3 0-1.3-.1-2.4-.1-2.4 0-4 1.5-4 4.1V12H7v3h2.6v7h3.9z"/></svg>
              </span>
              <span class="ch-text">
                <strong data-i18n="label_facebook">Facebook</strong>
                <small>Cris Bernal Photography</small>
              </span>
            </a>
          </li>
        </ul>

        <div class="chips">
          <span class="chip" data-i18n="chip_hours">Lun–Vie 15:00–20:00</span>
          <span class="chip" data-i18n="chip_reserve">Reserva por WhatsApp</span>
          <span class="chip" data-i18n="chip_delivery">Entrega digital</span>
        </div>
      </div>

      <div class="contact-cta">
        <button class="btn btn-lg" id="ctaWhats" data-i18n="cta_whatsapp">Reservar por WhatsApp</button>
        <p class="cta-help"><strong data-i18n="label_hours">Atención:</strong> <span data-i18n="hours_value">Lun–Vie, 15:00–20:00 (previa cita)</span></p>

        <div class="contact-mini" aria-label="Redes sociales">
          <a class="mini-bubble mini-wa" href="https://wa.me/523221217474" target="_blank" rel="noopener" aria-label="WhatsApp">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M20.5 3.5A10 10 0 0 0 4 15.2L3 21l5.9-1.6A10 10 0 1 0 20.5 3.5Z"/></svg>
          </a>
          <a class="mini-bubble mini-ig" href="https://www.instagram.com/crisbernalphoto/" target="_blank" rel="noopener" aria-label="Instagram">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 0 5-5z"/></svg>
          </a>
          <a class="mini-bubble mini-fb" href="https://www.facebook.com/CrisBernalPhotography/" target="_blank" rel="noopener" aria-label="Facebook">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M13.5 22v-7h2.3l.4-3h-2.7V9.6c0-.9.3-1.5 1.7-1.5H16V5.4c-.3 0-1.3-.1-2.4-.1-2.4 0-4 1.5-4 4.1V12H7v3h2.6v7h3.9z"/></svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container"><span id="footCopy">© <span id="yr"></span> Cris Bernal Photography · Puerto Vallarta, México</span></div>
</footer>

<!-- Burbujas sociales -->
<nav class="social-bubbles" aria-label="Redes sociales">
  <a id="waBubble" class="bubble bubble--wa" href="https://wa.me/523221217474" target="_blank" rel="noopener" aria-label="WhatsApp">
    <svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor"><path d="M20.5 3.5A10 10 0 0 0 4 15.2L3 21l5.9-1.6A10 10 0 1 0 20.5 3.5Zm-5.9 14.1c-2.1 0-4.1-.6-5.8-1.9l-.4-.3-1.8.5.5-1.7-.3-.4a7.4 7.4 0 1 1 7.8 3.8Zm3-4.5c-.2-.1-1.3-.6-1.4-.6s-.3-.1-.5.1-.5.6-.7.7c-.1.1-.3.2-.6.1-.3-.1-1-.4-1.9-1.2-.7-.6-1.2-1.4-1.4-1.6-.1-.3 0-.5.1-.6.1-.1.3-.3.4-.5.2-.2.3-.4.4-.6.1-.2 0-.4 0-.6s-.5-1.2-.7-1.6c-.2-.4-.4-.3-.5-.3h-.4c-.1 0-.4.1-.6.3-.2.2-.8.8-.8 1.9 0 1.1.8 2.2.9 2.4.1.2 1.6 2.5 3.8 3.5 2.3 1 2.3.7 2.7.7.4 0 1.3-.5 1.4-1 .2-.5.2-.9.1-1 0-.2-.1-.2-.3-.3Z"/></svg>
  </a>
  <a class="bubble bubble--ig" href="https://www.instagram.com/crisbernalphoto/" target="_blank" rel="noopener" aria-label="Instagram">
    <svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 0 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5a5.5 5.5 0 1 1 0 11.001A5.5 5.5 0 0 1 12 7.5zm0 2a3.5 3.5 0 1 0 0 7.001 3.5 3.5 0 0 0 0-7zM18.5 6a1 1 0 1 1 0 2.001 1 1 0 0 1 0-2z"/></svg>
  </a>
  <a class="bubble bubble--fb" href="https://www.facebook.com/CrisBernalPhotography/" target="_blank" rel="noopener" aria-label="Facebook">
    <svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor"><path d="M13.5 22v-7h2.3l.4-3h-2.7V9.6c0-.9.3-1.5 1.7-1.5H16V5.4c-.3 0-1.3-.1-2.4-.1-2.4 0-4 1.5-4 4.1V12H7v3h2.6v7h3.9z"/></svg>
  </a>
</nav>

<!-- Lightbox base -->
<div id="lightbox" style="position:fixed; inset:0; background:rgba(5,7,15,.88); display:none; align-items:center; justify-content:center; padding:24px; z-index:90;">
  <button id="lbClose" aria-label="Close" style="position:absolute; top:16px; right:16px; background:#ffffff; border:1px solid #0f1220; border-radius:10px; padding:8px 10px; font-weight:800; cursor:pointer;">✕</button>
  <div style="text-align:center">
    <img id="lbImg" alt="" style="max-width: min(96vw, 1400px); max-height: 86vh; border-radius: 14px; box-shadow: 0 30px 80px rgba(0,0,0,.35)"/>
    <div id="lbCap" style="color:#e9eefc; margin-top:10px; text-align:center"></div>
  </div>
</div>

<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"ProfessionalService",
  "name":"Cris Bernal Photography",
  "areaServed":["Puerto Vallarta","Sayulita","Punta Mita"],
  "image":"https://puertovallartaweddingphotos.com/logo.jpg",
  "url":"https://puertovallartaweddingphotos.com",
  "address":{"@type":"PostalAddress","streetAddress":"Paseo de la Rivera","addressLocality":"Puerto Vallarta","addressRegion":"Jalisco","postalCode":"48290","addressCountry":"MX"},
  "telephone":"+523221217474",
  "sameAs":["https://www.instagram.com/crisbernalphoto/","https://www.facebook.com/CrisBernalPhotography/"],
  "priceRange":"$$"
}
</script>

<script>
  // Año en footer
  document.getElementById('yr').textContent = new Date().getFullYear();

  // ===== Menú móvil =====
  const navToggle = document.getElementById('navToggle');
  const navFlyout = document.getElementById('navFlyout');
  const menuBackdrop = document.getElementById('menuBackdrop');
  const lockScroll = (lock) => { document.body.style.overflow = lock ? 'hidden' : ''; };
  const toggleMenu = (forceOpen = null) => {
    const willOpen = forceOpen !== null ? forceOpen : !navToggle.classList.contains('active');
    navToggle.classList.toggle('active', willOpen);
    navFlyout.classList.toggle('show', willOpen);
    menuBackdrop.classList.toggle('show', willOpen);
    menuBackdrop.hidden = !willOpen;
    navToggle.setAttribute('aria-expanded', willOpen ? 'true' : 'false');
    navToggle.setAttribute('aria-label', willOpen ? t.aria_menu_close : t.aria_menu_open);
    lockScroll(willOpen);
  };
  if (menuBackdrop) menuBackdrop.addEventListener('click', ()=> toggleMenu(false), {passive:true});
  navFlyout.addEventListener('click', e => {
    if (e.target.tagName === 'A' || e.target.closest('button.lang-btn')) toggleMenu(false);
  }, {passive:true});
  if (navToggle) navToggle.addEventListener('click', ()=> toggleMenu(), {passive:true});
  document.addEventListener('click', (e)=>{
    const inside = e.target.closest('.navbar') || e.target.closest('#navFlyout') || e.target.closest('#menuBackdrop');
    if (!inside && navToggle.classList.contains('active')) toggleMenu(false);
  }, {passive:true});

  // ===== Scrollspy =====
  const navLinks = [...document.querySelectorAll('.nav-links a, #navFlyout a')];
  const sections = ['home','acerca','recent','contacto','reseñas'].map(id => document.getElementById(id));
  const setActiveLink = (hash) => navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === hash));
  const onScroll = () => {
    let current = '#home';
    for (const sec of sections){
      if(!sec) continue;
      const rect = sec.getBoundingClientRect();
      if (rect.top <= window.innerHeight * 0.28) current = '#' + sec.id;
    }
    setActiveLink(current);
  };
  window.addEventListener('scroll', onScroll, { passive:true });
  setActiveLink('#home');

  // ===== Navbar compacta =====
  const navbar = document.querySelector('.navbar');
  const compactCheck = () => {
    const y = window.scrollY || document.documentElement.scrollTop;
    navbar.classList.toggle('nav-compact', y > 80);
  };
  window.addEventListener('scroll', compactCheck, { passive:true });
  compactCheck();

  // ===== Slider =====
  const sliderWrapper = document.querySelector('.slider-wrapper');
  const prevBtn = document.querySelector('.slider-btn.prev');
  const nextBtn = document.querySelector('.slider-btn.next');
  const dotsContainer = document.querySelector('.slider-dots');
  const sliderContainer = document.querySelector('.slider-container');

  const slidesData = [
    { src: "slider/CrisBernal-03.jpg", alt: "Boda en la playa en Puerto Vallarta", caption: "Atardecer en Puerto Vallarta" },
    { src: "slider/IMG_0828.jpg", alt: "Paisaje de Sayulita", caption: "Costa de Sayulita" },
    { src: "slider/CrisBernalPhoto-6.jpg", alt: "Momentos íntimos de boda", caption: "Momentos íntimos · Sayulita" },
    { src: "slider/CrisBernalPhoto-23.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" },
    { src: "slider/IMG_5996.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" },
    { src: "slider/IMG_6265.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" },
    { src: "slider/IMG_3195.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" },
    { src: "slider/IMG_6541.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" },
    { src: "slider/IMG_6810.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" },
    { src: "slider/IMG_7101.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" },
     { src: "slider/EMILYJAMESANIMOTO-2.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" },
    { src: "slider/L&A-46.jpg", alt: "Detalles de boda", caption: "Detalles que cuentan historias" }
   
    
  ];

  let currentIndex = 0;
  let autoplayTimer = null;
  const AUTOPLAY_MS = 6000;

  function createSlidesAndDots() {
    slidesData.forEach((s, i) => {
      const slide = document.createElement('div');
      slide.className = 'slide';

      const img = document.createElement('img');
      img.src = s.src; img.alt = s.alt || '';
      img.loading = (i === 0) ? 'eager' : 'lazy';
      if (i === 0) img.fetchPriority = 'high';
      slide.appendChild(img);

      if (s.caption) {
        const cap = document.createElement('div');
        cap.className = 'caption';
        cap.textContent = s.caption;
        slide.appendChild(cap);
      }

      sliderWrapper.appendChild(slide);

      const dot = document.createElement('button');
      dot.className = 'dot'; dot.type = 'button';
      dot.dataset.index = i;
      dot.setAttribute('aria-label', `Ir a la imagen ${i+1}`);
      dot.setAttribute('role', 'tab');
      dotsContainer.appendChild(dot);
    });
  }

  function updateSlider() {
    sliderWrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
    document.querySelectorAll('.dot').forEach(d => {
      const active = Number(d.dataset.index) === currentIndex;
      d.classList.toggle('active', active);
      d.setAttribute('aria-selected', active ? 'true' : 'false');
    });
  }

  function goTo(index) { currentIndex = (index + slidesData.length) % slidesData.length; updateSlider(); startAutoplay(); }
  function next(){ goTo(currentIndex + 1); }
  function prev(){ goTo(currentIndex - 1); }

  function startAutoplay(){ clearInterval(autoplayTimer); autoplayTimer = setInterval(next, AUTOPLAY_MS); }
  function stopAutoplay(){ clearInterval(autoplayTimer); }

  nextBtn.addEventListener('click', ()=> goTo(currentIndex + 1));
  prevBtn.addEventListener('click', ()=> goTo(currentIndex - 1));
  dotsContainer.addEventListener('click', (e)=>{ if (e.target.matches('.dot')) goTo(Number(e.target.dataset.index)); });

  sliderContainer.addEventListener('mouseenter', stopAutoplay);
  sliderContainer.addEventListener('mouseleave', startAutoplay);
  document.addEventListener('visibilitychange', ()=>{ if (document.hidden) stopAutoplay(); else startAutoplay(); });

  // ===== Álbumes =====
  const albums = {
    weddings: [
      "boda/_MG_2482.webp","boda/_MG_3386.webp","boda/_MG_6015.webp","boda/_MG_6349.webp",
      "boda/cris-12.webp","boda/_MG_0909.webp","boda/_MG_9248 2.webp","boda/CASTLEWEB-139-1.webp",
      "boda/cris-16.webp","boda/cris-5.webp","boda/cris-8.webp","boda/CrisBernalPhoto-6.webp",
      "boda/CrisBernalPhoto-17.webp","boda/CrisBernalPhoto-37.webp","boda/CrisBernalPhoto-159.webp",
      "boda/CrisBernalPhotography-300.webp","boda/IMG_0666-854.webp","boda/IMG_0828.webp",
      "boda/HIGHLIGHTS_Diana&Elias-33-1.webp","boda/IMG_0666-854.webp","boda/IMG_2965-2.webp",
      "boda/IMG_3055.webp","boda/IMG_3765.webp","boda/IMG_3870-3.webp","boda/IMG_3975.webp",
      "boda/IMG_4587.webp","boda/IMG_5004.webp","boda/IMG_5457.webp","boda/IMG_5824.webp",
      "boda/insta-Marlen&Daniel-28.webp","boda/insta-Marlen&Daniel-21.webp","boda/insta-Marlen&Daniel-11-3.webp"
    ],
    engagement: [
      "embarazo/Puerto-Vallarta-Pregnancy-Photos-1-1-scaled.webp","embarazo/Puerto-Vallarta-Pregnancy-Photos-2.webp",
      "embarazo/Puerto-Vallarta-Pregnancy-Photos-7.webp","embarazo/Puerto-Vallarta-Pregnancy-Photos-14.webp",
      "embarazo/Puerto-Vallarta-Pregnancy-Photos-15.webp","embarazo/Puerto-Vallarta-Pregnancy-Photos-16.webp",
      "embarazo/Puerto-Vallarta-Pregnancy-Photos-20.webp","embarazo/Puerto-Vallarta-Pregnancy-Photos-26.webp",
      "embarazo/Puerto-Vallarta-Pregnancy-Photos-28.webp","embarazo/Puerto-Vallarta-Pregnancy-Photos-30.webp",
      "embarazo/Puerto-Vallarta-Pregnancy-Photos-33.webp","embarazo/Puerto-Vallarta-Pregnancy-Photos-35.webp",
      "embarazo/Puerto-Vallarta-Pregnancy-Photos-36.webp"
    ],
    family: [
      "Familia/Puerto-Vallarta-Family-Photographer-1.webp","Familia/Puerto-Vallarta-Family-Photographer-2 (1).webp",
      "Familia/Puerto-Vallarta-Family-Photographer-3.webp","Familia/Puerto-Vallarta-Family-Photographer-4.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-5.webp","Familia/Puerto-Vallarta-Family-Photographer-6.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-7.webp","Familia/Puerto-Vallarta-Family-Photographer-8.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-14.webp","Familia/Puerto-Vallarta-Family-Photographer-15.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-16.webp","Familia/Puerto-Vallarta-Family-Photographer-17.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-18.webp","Familia/Puerto-Vallarta-Family-Photographer-19.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-20.webp","Familia/Puerto-Vallarta-Family-Photographer-21.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-22.webp","Familia/Puerto-Vallarta-Family-Photographer-23.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-24.webp","Familia/Puerto-Vallarta-Family-Photographer-25.webp",
      "Familia/Puerto-Vallarta-Family-Photographer-31.webp"
    ],
    Kids: [
      "Kids/Cris-Bernal-Photography-Kids1.webp","Kids/Cris-Bernal-Photography-Kids2.webp",
      "Kids/Cris-Bernal-Photography-Kids3.webp","Kids/Cris-Bernal-Photography-Kids4.webp",
      "Kids/Cris-Bernal-Photography-Kids5.webp","Kids/Cris-Bernal-Photography-Kids6.webp"
    ]
  };

  // Contadores en tarjetas
  Object.keys(albums).forEach(k=>{
    const el = document.querySelector(`[data-count="${k}"]`);
    if (el) el.textContent = albums[k].length;
  });

  // ===== I18N =====
  const dict = {
    es: {
      meta_title:"Cris Bernal Photography · Bodas y Retratos en Puerto Vallarta",
      meta_desc:"Fotografía de bodas y retratos en Puerto Vallarta, Sayulita y Punta Mita. Estilo documental y artístico. Reserva tu fecha con Cris Bernal.",
      meta_og_title:"Cris Bernal Photography · Bodas y Retratos",
      meta_og_desc:"Fotografía de bodas y retratos en Puerto Vallarta y Bahía de Banderas.",
      nav_home:"Inicio", nav_about:"Acerca", nav_recent:"Reciente", nav_contact:"Contacto", nav_reviews:"Reseñas", nav_book:"Reservar",
      aria_menu_open:"Abrir menú", aria_menu_close:"Cerrar menú",
      hero_h1:"Hola, soy Cris Bernal — Puerto Vallarta Fotos",

      about_title:"Acerca de Cris", about_sub:"Más de 15 años fotografiando historias.",
      about_p1:"<strong>13 años de experiencia</strong> como fotógrafa de <strong>bodas</strong> y <strong>familia</strong>. …",
      about_p2:"¡<strong>Puerto Vallarta</strong> es <em>increíble</em> y hermoso para fotografiar! …",
      about_p3:"Como <strong>fotógrafa de bodas en Puerto Vallarta</strong> …",
      about_p4:"Mi enfoque y pasión están en <strong>preservar momentos</strong> …",
      about_p5:"Es un verdadero honor que mis clientes confíen en mí …",
      about_p6:"Estoy aquí para asegurarme de que tu historia única …",

      chip1:"PV · Sayulita · Punta Mita", chip2:"Documental & Artístico", chip3:"+15 años",
      label_address:"Dirección:", addr_value:"Privada Huatulco 208-24, Fraccionamiento las Palmas, 48317.Puerto Vallarta, Jal.",
      label_hours:"Atención:", hours_value:"Lun–Vie, 15:00–20:00 (previa cita)",
      recent_title:"Reciente", recent_sub:"Álbumes por categoría. Abre uno para ver más.",
      cat_weddings:"Bodas (varias parejas)", cat_engagement:"Engagement", cat_family:"Familia", cat_pregnancy:"Kids",
      photos_word:"fotos", open_album:"Abrir álbum", load_more:"Ver más", close:"Cerrar",
      reviews_title:"Reseñas", reviews_sub:"Valoración 5.0/5 — 100% de parejas recomiendan a Cris Bernal Photography.",
      rev1:"“Excelente servicio y profesionalismo… capturó cada momento con ideas originales y mucha energía.”", rev1_by:"Christian",
      rev2:"“Seria, responsable, puntual y flexible; te hace sentir cómoda. Entrega a tiempo y trabajo magnífico.”", rev2_by:"Tania",
      rev3:"“De las mejores decisiones para nuestra boda. Desde la sesión casual hasta el evento, siempre atenta.”", rev3_by:"Casandra",
      contact_title:"Contacto", contact_sub:"Comparte fecha, locación y tipo de sesión; te responderé dentro de horario de atención.",
      label_whatsapp:"WhatsApp:", label_instagram:"Instagram:", label_facebook:"Facebook:",
      chip_hours:"Lun–Vie 15:00–20:00", chip_reserve:"Reserva por WhatsApp", chip_delivery:"Entrega digital",
      cta_whatsapp:"Reservar por WhatsApp",
      foot_copy:"© YEAR Cris Bernal Photography · Puerto Vallarta, México",
      wa_text_top:"Hola Cris, me gustaría cotizar .", wa_text_cta:"Hola Cris, me gustaría cotizar .", wa_text_fab:"Hola Cris, me gustaría cotizar ."
    },
    en: {
      meta_title:"Cris Bernal Photography · Weddings & Portraits in Puerto Vallarta",
      meta_desc:"Wedding & portrait photography in Puerto Vallarta, Sayulita and Punta Mita.",
      meta_og_title:"Cris Bernal Photography · Weddings & Portraits",
      meta_og_desc:"Wedding & portrait photography in Puerto Vallarta and Bahía de Banderas.",
      nav_home:"Home", nav_about:"About", nav_recent:"Recent", nav_contact:"Contact", nav_reviews:"Reviews", nav_book:"Book",
      aria_menu_open:"Open menu", aria_menu_close:"Close menu",
      hero_h1:"Hi, I'm Cris Bernal — Puerto Vallarta Photos",

      about_title:"About Cris", about_sub:"+15 years telling stories across Bahía de Banderas.",
      about_p1:"<strong>13 years of experience</strong> as a <strong>Wedding</strong> and <strong>Family</strong> Photographer. …",
      about_p2:"<strong>Puerto Vallarta</strong> is <em>AMAZING</em> and beautiful to photograph! …",
      about_p3:"As a <strong>Puerto Vallarta Wedding Photographer</strong> …",
      about_p4:"My focus and passion lie in <strong>preserving moments</strong> …",
      about_p5:"It is my true honor to be trusted with photographing my clients’ …",
      about_p6:"I’m here to ensure your unique tale can be retold …",

      chip1:"PV · Sayulita · Punta Mita", chip2:"Documentary & Artistic", chip3:"+15 years",
      label_address:"Address:", addr_value:"Paseo de la Rivera, 48290 Puerto Vallarta, Jalisco",
      label_hours:"Hours:", hours_value:"Mon–Fri, 3:00–8:00 PM (by appointment)",
      recent_title:"Recent", recent_sub:"Albums by category. Open one to see more.",
      cat_weddings:"Weddings (various couples)", cat_engagement:"Engagement", cat_family:"Family", cat_pregnancy:"Pregnancy", cat_vow:"Vow Renewal", cat_trash:"Trash the Dress",
      photos_word:"photos", open_album:"Open album", load_more:"Load more", close:"Close",
      reviews_title:"Reviews", reviews_sub:"Rated 5.0/5 — 100% of couples recommend Cris Bernal Photography.",
      rev1:"“Excellent service and professionalism… captured every moment with original ideas and great energy.”", rev1_by:"Christian",
      rev2:"“Responsible, punctual and flexible; she makes you feel comfortable. On-time delivery and magnificent work.”", rev2_by:"Tania",
      rev3:"“One of the best decisions for our wedding. From the casual session to the big day, always attentive.”", rev3_by:"Casandra",
      contact_title:"Contact", contact_sub:"Share date, location and session type; I'll reply during business hours.",
      label_whatsapp:"WhatsApp:", label_instagram:"Instagram:", label_facebook:"Facebook:",
      chip_hours:"Mon–Fri 3:00–8:00 PM", chip_reserve:"Book via WhatsApp", chip_delivery:"Digital delivery",
      cta_whatsapp:"Book on WhatsApp",
      foot_copy:"© YEAR Cris Bernal Photography · Puerto Vallarta, Mexico",
      wa_text_top:"Hi Cris, I'd like a quote for a session or wedding in Puerto Vallarta.",
      wa_text_cta:"Hi Cris, I'd like a quote for a wedding in Puerto Vallarta.",
      wa_text_fab:"Hi Cris, I'd like a quote for my event."
    }
  };

  let lang = 'es';
  let t = dict[lang];

  const q = (sel) => document.querySelector(sel);
  const qa = (sel) => [...document.querySelectorAll(sel)];
  const setText = () => {
    qa('[data-i18n]').forEach(el=>{
      const key = el.getAttribute('data-i18n');
      if (!key || !(key in t)) return;
      if (/^about_p\d+$/.test(key)) el.innerHTML = t[key];
      else el.textContent = t[key];
    });

    qa('[data-i18n-attr]').forEach(el=>{
      const pairs = el.getAttribute('data-i18n-attr').split(',');
      pairs.forEach(p=>{
        const [attr, key] = p.split(':').map(s=>s.trim());
        if(attr && key && (key in t)) el.setAttribute(attr, t[key]);
      });
    });

    const titleEl = q('title[data-i18n="meta_title"]');
    if (titleEl) titleEl.textContent = t.meta_title;
    document.documentElement.lang = lang;

    const waBase = "https://wa.me/523221217474?text=";
    const wa1 = q('#ctaTop'); const wa2 = q('#ctaWhats'); const waLink1 = q('#waLink1'); const waBubble = q('#waBubble');
    if (wa1) wa1.onclick = () => location.href = waBase + encodeURIComponent(t.wa_text_top || "");
    if (wa2) wa2.onclick = () => location.href = waBase + encodeURIComponent(t.wa_text_cta || "");
    if (waLink1) waLink1.href = waBase + encodeURIComponent(t.wa_text_top || "");
    if (waBubble) waBubble.href = waBase + encodeURIComponent(t.wa_text_fab || "");

    const year = new Date().getFullYear();
    const foot = q('#footCopy');
    if (foot) foot.textContent = (t.foot_copy || "© YEAR Cris Bernal Photography").replace('YEAR', year);

    if (navToggle) {
      const open = navToggle.classList.contains('active');
      navToggle.setAttribute('aria-label', open ? t.aria_menu_close : t.aria_menu_open);
    }
  };

  // Idioma
  const btnES = q('#btnES'); const btnEN = q('#btnEN');
  const setLang = (l) => { lang = l; t = dict[l]; btnES.classList.toggle('active', l==='es'); btnEN.classList.toggle('active', l==='en'); setText(); };
  btnES.addEventListener('click', ()=> setLang('es'), {passive:true});
  btnEN.addEventListener('click', ()=> setLang('en'), {passive:true});
  const flyES = document.getElementById('flyES');
  const flyEN = document.getElementById('flyEN');
  if (flyES) flyES.addEventListener('click', ()=> { btnES.click(); toggleMenu(false); }, {passive:true});
  if (flyEN) flyEN.addEventListener('click', ()=> { btnEN.click(); toggleMenu(false); }, {passive:true});

  // ======= GALERÍA =======
  const galModal = document.getElementById('galleryModal');
  const galGrid  = document.getElementById('galGrid');
  const galTitle = document.getElementById('galTitle');
  const galCount = document.getElementById('galCount');
  const galMore  = document.getElementById('galMore');
  const galClose = document.getElementById('galClose');

  let currentAlbumKey = null;
  let currentAlbumPhotos = [];
  let page = 0;
  const PAGE_SIZE = 24;

  document.querySelector('.albums-grid')?.addEventListener('click', (e)=>{
    const btn = e.target.closest('.album-card .btn');
    if(!btn) return;
    const card = btn.closest('.album-card');
    const key  = card?.dataset.album;
    const title= card?.querySelector('.album-title')?.textContent?.trim() || 'Álbum';
    openGallery(key, title);
  }, {passive:true});

  function openGallery(key, title){
    currentAlbumKey = key;
    currentAlbumPhotos = (albums[key] || []).slice();
    galTitle.textContent = title;
    galCount.textContent = currentAlbumPhotos.length;
    galGrid.innerHTML = '';
    page = 0;
    galModal.hidden = false;
    lockScroll(true);
    renderPage();
  }

  function renderPage(){
    const start = page * PAGE_SIZE;
    const slice = currentAlbumPhotos.slice(start, start + PAGE_SIZE);

    slice.forEach((url, i)=>{
      const globalIndex = start + i;

      const a = document.createElement('a');
      a.href = url;
      a.className = `photo-card tape-${(globalIndex % 3) + 1} loading`;
      a.style.setProperty('--rot', `${(Math.random()*2 - 1) * 1.2}deg`);
      a.dataset.index = String(globalIndex);

      const img = document.createElement('img');
      img.className = 'ph-img';
      img.loading = 'lazy';
      img.decoding = 'async';
      img.alt = `${galTitle.textContent} · ${globalIndex+1}`;
      img.src = url;
      img.addEventListener('load', ()=> a.classList.remove('loading'), {once:true});

      const cap = document.createElement('div');
      cap.className = 'ph-cap';
      cap.textContent = '';

      a.appendChild(img);
      a.appendChild(cap);
      galGrid.appendChild(a);
    });

    page++;
    galMore.style.display = (page * PAGE_SIZE < currentAlbumPhotos.length) ? '' : 'none';
  }

  galMore.addEventListener('click', renderPage);
  galClose.addEventListener('click', ()=>{ galModal.hidden = true; lockScroll(false); }, {passive:true});
  document.addEventListener('keydown', (e)=>{
    if (galModal.hidden) return;
    if (e.key === 'Escape') { galModal.hidden = true; lockScroll(false); }
  });

  // ===== Lightbox =====
  const lb = document.getElementById('lightbox');
  const lbImg = document.getElementById('lbImg');
  const lbCap = document.getElementById('lbCap');
  const lbCloseBtn = document.getElementById('lbClose');
  let lbIndex = 0;

  function showLB(i){
    if (!currentAlbumPhotos.length) return;
    lbIndex = (i + currentAlbumPhotos.length) % currentAlbumPhotos.length;
    lbImg.src = currentAlbumPhotos[lbIndex];
    lbCap.textContent = `${galTitle.textContent} · ${lbIndex+1}/${currentAlbumPhotos.length}`;
    lb.style.display = 'flex';
    lockScroll(true);
  }
  function closeLB(){ lb.style.display='none'; lbImg.src=''; lockScroll(false); }

  document.getElementById('galGrid').addEventListener('click', (e)=>{
    const card = e.target.closest('.photo-card');
    if(!card) return;
    e.preventDefault();
    const idx = Number(card.dataset.index || 0);
    showLB(idx);
  });

  lbCloseBtn.addEventListener('click', closeLB, {passive:true});
  lb.addEventListener('click', e=>{ if(e.target===lb) closeLB() }, {passive:true});

  document.addEventListener('keydown', (e)=>{
    if (lb.style.display !== 'flex') return;
    if (e.key === 'ArrowRight') showLB(lbIndex + 1);
    if (e.key === 'ArrowLeft')  showLB(lbIndex - 1);
    if (e.key === 'Escape')     closeLB();
  });

  (function addLbArrows(){
    const make = (cls, txt, onClick)=>{
      const b = document.createElement('button');
      b.className = `lb-nav ${cls}`;
      b.type = 'button';
      b.textContent = txt;
      b.setAttribute('aria-label', cls.includes('prev') ? 'Anterior' : 'Siguiente');
      b.addEventListener('click', onClick);
      lb.appendChild(b);
    };
    make('lb-prev','‹', ()=> showLB(lbIndex - 1));
    make('lb-next','›', ()=> showLB(lbIndex + 1));
  })();

  // ===== Arranque =====
  function start() {
    if (!document.querySelector('.slider-wrapper').children.length) {
      createSlidesAndDots(); updateSlider(); startAutoplay();
    }
    setText();
  }
  start();
</script>
</body>
</html>
